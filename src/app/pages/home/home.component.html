<div class="mt-5 ms-5 me-5">
  <div class="row">
    <div class="col-md-12 mb-4">
      <h1 class="primary-text">Dashboard</h1>
    </div>
    <div class="col-md-4">
      <div class="status-card shadow bg-validated">
        <div class="card-body d-flex justify-content-between align-items-center">
          <div class="card-info">
            <h5 class="card-title">Validated applications</h5>
            <p class="card-text display-4 font-weight-bold">{{ nbrValidatedApplications }}</p>
          </div>
          <div class="card-icon">
            <i class="fas fa-check-circle fa-2x"></i>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="status-card shadow bg-pending">
        <div class="card-body d-flex justify-content-between align-items-center">
          <div class="card-info">
            <h5 class="card-title">Pending application</h5>
            <p class="card-text display-4 font-weight-bold">{{ nbrPendingApplications }}</p>
          </div>
          <div class="card-icon">
            <i class="fas fa-clock fa-2x"></i>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="status-card shadow bg-rejected">
        <div class="card-body d-flex justify-content-between align-items-center">
          <div class="card-info">
            <h5 class="card-title">Rejected application</h5>
            <p class="card-text display-4 font-weight-bold">{{ nbrRefusedApplications }}</p>
          </div>
          <div class="card-icon">
            <i class="fas fa-times-circle fa-2x"></i>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row mt-4">
    <div class="col-md-6">
      <div class="card shadow">
        <div class="card-body">
          <h5 class="card-title">Applications by statut</h5>
          <div class="chart-container">
            <plotly-plot [data]="graphByStatus.data" [layout]="graphByStatus.layout"></plotly-plot>
          </div>
        </div>
        <div class="card-footer d-flex justify-content-between align-items-center">
          <i class="fas fa-chart-bar fa-2x"></i>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="card shadow">
        <div class="card-body">
          <h5 class="card-title">Applications by category</h5>
          <div class="chart-container" *ngIf="graphByStatus?.data">
            <plotly-plot [data]="graphByCategory.data" [layout]="graphByCategory.layout"></plotly-plot>
          </div>
        </div>
        <div class="card-footer d-flex justify-content-between align-items-center">
          <i class="fas fa-chart-line fa-2x"></i>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="loader-container" *ngIf="isLoading" >
  <div class="loader"></div>
</div>

